# Final Report

## Description
This webpage and its visualizations give information about crime in the Netherlands. With this page you can explore the quantity and relative occurance of certain crimes, either for the entier Netherlands or for each province individually.
![](doc/finalVersion.PNG)

## Technical Design
All visualizations on the page are interactive and use the same dataset. Each visualization is positioned statically around the titles that tell you the selected province, crime and year.
* The datamap shows the relative occurance of a selected crime in the Netherlands by filling each province with a color corresponding to the prevalence of that crime in that province.
* The piechart shows more exact the relative occurance in each province using the center of the pie which shows the percentage corrected for number of inhabitans.
* The lineplot shows the quantity of a selected crime in a selected province over the course of four years (2010-2013).
* The two buttons 'Nederland' and 'Misdrijven' can be used to set province to Netherlands (This is not a province.. but yeah) and crime to total (all crimes), or to select a specific crime respectivily.
* The slider can be dragged to select a year. The datamap and piechart will update while dragging. 
* The info button show how each visualization can be used to get data.

The datamap and piechart not only show data. They also can be used to select a crime or province or to take a quick look at the data. When the users mouse is on a province that province is highlighted, the global title changes, and the corresponding pie segment will light up with the corresponding value in percentage.
If the user clicks on the province it is selected. The province stays highlighted on the map, the global titles changes to the province untill another province is selected, the piechart shows the relative occurance of all the crimes in the dataset for that province and the lineplot updates to show the quantity of a selected crime for the selected province.
While the piechart segments are representing provinces these can be hovered and clicked to select a province in the same way the datamap does. When the segments represent crimes they can be clicked to select a crime. When a crime is selected the datamap and lineplot updates for that crime. The 'Misdrijf' button can also be used to select a crime. The piechart still shows the relative occurance of the crime.
When the user hovers there mouse over the lineplot the exact values of each year for a pecific crime and province will be displayed in a popup.

To create these interactions event handlers are used for each element on the page. For each visualization a function is written to update it whenever needed. To get the correct data for each visualization a function is written. For calculating the fill colors and for filling the datamap functions are written. 
For calculating the percentage shown in the piechart a function is written and last all eventlistners are put in a function so that after each visualization update the handlers work again.

## Process
I did not encountered major challenges with regard to my design because of the fact that most challenges were already faced during the homework assignments of a previous course. Still, while working on this project, many things fell into place considering coding. Programming the buttons and the info pop-up parts in html learned me more about positioning objects in divs and connect them with my javascript code. The discovery of all the possibilities of styling that can be achived with css was really fun.
Yet, with both these languages i had some struggles while positioning elements on the page. I've spend alot of time on trying to make the webpage scalable. In the end some parts are, but some parts are not scalable. While designing the info pop-up alot more became clear about positioning yet there was to little time for implementing this in the webpage overall.
During this project i learned more about global variables and writing functions in javascript. The use of global variables became more clear. All visualizations used the same data when updated. But when i wanted events to change previous selected objects and objects over which the mouse hovers they started to interferre. I rewrote my code and used more descriptive global variables to fix all the interferrence. After cleaning up, the events were much easier to implement.
While updating the piechart the functionality of the segements changed. On this moment i learned how easy it is to implement functions for dynamically adding attributes, like id's to objects in the wink of an eye. On the data per province a correction is used for the amount of inhabitans. This choice is made because the quantity of crime maybe influenced by this parameter. For the lineplot i was able to write a update function. This way the plot does not need to be removed and redrawn. In the beginning of the project each visualization had its own title. This did not look nice, and for every selection change all titles must be updated. 
Instead a global title is implemented and positioned in a way its clear which information the visualizations are displaying. The colorscheme for filling the datamap started as a exponential scale so that all percentages could be displayed without the use of 9+ colors. After considering this option i chose to have a scale in steps of 5% til 40% and up because the most extreme percentage can be covered and lower percentages could have there own color. A dark background color was needed to display the lighter colors properly. But after this project the biggest challenge i faced and overwon is having fun in programming. In the previous courses time spend on projects was very little and my understanding of coding did not grow largely. But in this course many skills fell in place and i started to enjoy coding!

## Final Argument
It is hard to argument decisions i've made because they came naturally during the project. The choice of having a single global title is better than having titles for each visualization because the repetition did not favour the information density. The choice to update the visualizations, except the piechart, seems logically because not the enitre graph needs to be redrawn just the data it visualizes (axes, line and fill color).
The choice to correct the occurance of crime per province on inhabitans is made because the number of crimes per province is probably influenced by the number of inhabitans. The slider can be questioned because of the small number of data it represents. While a dropdown menu for selection a year was sufficient, the assignment asked for another type of apllication to select data. The choise of having a linear colorscheme for the datamap is more informative because linearity is easier to apprehend than exponentials.
In an ideal world, given much more time, i would add some features considering style and optionality. Considering style i'd like to evenly devide the visualizations over the entire webpage with attention to size and layout and make the webpage scalable. And for optionality i would like to add filters like certain holidays, months, grouped sorts of crimes, age, gender, race. And make a tool for comparison between the different provinces or other filters. Or, ofcourse, comparsion on a global scale. Comparison between capital citys for example. Another option could be information on how to prevent ertain crimes to happen. This webpage could be a amusing tool to checkout criminality all over the world and learn how to prevent it.